<div class="video-with-text-overlay {% if section.settings.container_type == 'container_box' %}container_box{% else %}full_width{% endif %}"
    style="margin-top: {{ section.settings.section_margin_top }}px; 
           margin-bottom: {{ section.settings.section_margin_bottom }}px;">

    <div class="video-with-text"
        style="position: relative; padding-top: {{ section.settings.section_padding_top }}px; 
               padding-bottom: {{ section.settings.section_padding_bottom }}px;">

        <div class="video-with-overlay">

            {% if section.settings.desktop_video != blank %}
                {{ section.settings.desktop_video | video_tag:
                    autoplay: true,
                    muted: true,
                    loop: true,
                    playsinline: true,
                    class: 'video-media desktop-video'
                }}
            {% endif %}

            {% if section.settings.mobile_video != blank %}
                {{ section.settings.mobile_video | video_tag:
                    autoplay: true,
                    muted: true,
                    loop: true,
                    playsinline: true,
                    class: 'video-media mobile-video'
                }}
            {% endif %}

            {% if section.settings.video_overlay %}
                <div class="video-overlay"></div>
            {% endif %}

            {% if section.settings.desktop_video == blank and section.settings.mobile_video == blank %}
                <div class="video-placeholder"></div>
            {% endif %}

            <div class="video-text-content"
            style="padding-top: {{ section.settings.content_padding_top }}px; 
                   padding-bottom: {{ section.settings.content_padding_bottom }}px;">

                {% if section.settings.video_sub_heading != blank %}
                    <p>{{ section.settings.video_sub_heading }}</p>
                {% endif %}

                {% if section.settings.video_heading != blank %}
                    <h1>{{ section.settings.video_heading }}</h1>
                {% endif %}

                {% if section.settings.show_video_buttons %}
                    <div class="video-buttons">
                        {% if section.settings.video_btn_1 != blank %}
                            <div class="video-btn">
                                <a href="{{ section.settings.button_1_link }}">
                                    {{ section.settings.video_btn_1 }}
                                </a>
                            </div>
                        {% endif %}

                        {% if section.settings.video_btn_2 != blank %}
                            <div class="video-btn-outline">
                                <a href="{{ section.settings.button_2_link }}">
                                    {{ section.settings.video_btn_2 }}
                                </a>
                            </div>
                        {% endif %}
                    </div>
                {% endif %}

            </div>

        </div>
    </div>
</div>

<style>
@import url('https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Instrument+Serif:ital@0;1&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap');

* { font-family: "Outfit", sans-serif; }

.full_width {
    width: 100vw; 
    max-width: 100vw; 
    margin-left: calc(-50vw + 50%); 
    margin-right: calc(-50vw + 50%);
}
.container_box { 
    max-width: 1400px; 
    width: 100%; 
    margin: 0 auto; 
    padding: 0 20px; 
}

.video-with-overlay {
    position: relative;
    width: 100%;
    height: 750px; /* fixed height so video shows */
    overflow: hidden;
}

.video-media { 
    position: absolute; 
    inset: 0; 
    width: 100%; 
    height: 100%; 
    object-fit: cover;
    z-index: 0; 
}
.desktop-video { 
    display: block; 
} 
.mobile-video { 
    display: none; 
}

.video-overlay { 
    position: absolute; 
    inset: 0; 
    background: rgba(0,0,0,0.45); 
    z-index: 1; 
}

.video-placeholder {
    width: 100%;
    height: 300px; 
    /* background-color: #cccccc; */
    z-index: 0;
}

.video-text-content {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    z-index: 2;
    padding: 20px;
    color: #fff;
    text-align: center;
}

.video-text-content h1 {
    font-family: "Instrument Serif", serif;
    color: #ffffff;
    font-size: 72px; 
    font-weight: 400;
    line-height: 120%;
    margin-bottom: 26px; 
}
.video-text-content p { 
    color: #ffffff;
    font-size: 24px; 
    font-weight: 400;
    line-height: 140%;
    letter-spacing: 6px;
    max-width: 800px; 
}

.video-buttons { 
    display: flex; 
    gap: 24px; 
    flex-wrap: wrap; 
    justify-content: center; 
}

.video-btn a { 
    padding: 14px 24px; 
    font-size: 14px;
    font-weight: 500; 
    background: #FFB686; 
    color: #242A33; 
    text-decoration: none; 
    transition: all 0.3s ease; 
    line-height: 140%;
}
.video-btn:hover a { 
    background: #FFB686; 
    color: #242A33; 
}

.video-btn-outline a { 
    padding: 14px 24px; 
    font-size: 14px;
    font-weight: 500; 
    background: transparent; 
    color: #ffffff; 
    border: 1px solid #FFB686;
    text-decoration: none; 
    transition: all 0.3s ease; 
    line-height: 140%; 
}
.video-btn-outline a:hover { 
    background: #FFB686; 
    color: #ffffff; 
}

@media (max-width: 1024px) {
    .video-text-content h1 { 
        font-size: 56px; 
    }
    .video-text-content p { 
        font-size: 18px; 
    }
}

@media (max-width: 768px) {
    .desktop-video { 
        display: none; 
    } 
    .mobile-video { 
        display: block; 
        margin: 0 auto; 
    }
    .video-media { 
        position: relative; 
        height: auto; 
    }

    .video-overlay { 
        display: none; 
    }

    .video-text-content {
        position: relative !important;
        top: 0 !important;
        text-align: center;
        padding: 20px 0 !important;
        color: #242A33;
    }

    .video-buttons { 
        flex-direction: column; 
        gap: 16px; 
        align-items: center; 
    }

    .video-btn a,
    .video-btn-outline a { 
        display: inline-block; 
    }

    .video-btn-outline a { 
        color: #242A33; 
    }

    .video-text-content h1 { 
        font-size: 40px; 
        color: #242A33
    } 
    .video-text-content p { 
        font-size: 16px; color: #242A33; 
    }
}

@media (max-width: 480px) {
    .video-text-content h1 { 
        font-size: 36px; 
    }
}
</style>

{% schema %}
{
    "name": "Video with text overlay",
    "settings": [
        { 
            "type": "select", 
            "id": "container_type", 
            "label": "Section Container Type", 
            "default": "full_width", 
            "options": [
                { "label": "Full Width", "value": "full_width" },
                { "label": "Container Box", "value": "container_box" }
            ] 
        },
        {
            "type": "range",
            "id": "section_padding_top",
            "label": "Padding Top",
            "min": 0,
            "max": 200,
            "step": 5,
            "default": 0
        },
        {
            "type": "range",
            "id": "section_padding_bottom",
            "label": "Padding Bottom",
            "min": 0,
            "max": 200,
            "step": 5,
            "default": 0
        },
        {
            "type": "range",
            "id": "section_margin_top",
            "label": "Margin Top",
            "min": 0,
            "max": 200,
            "step": 5,
            "default": 0
        },
        {
            "type": "range",
            "id": "section_margin_bottom",
            "label": "Margin Bottom",
            "min": 0,
            "max": 200,
            "step": 5,
            "default": 0
        },
        {
            "type": "video",
            "id": "desktop_video",
            "label": "Desktop video"
        },
        {
            "type": "video",
            "id": "mobile_video",
            "label": "Mobile video"
        },
        {
            "type": "range",
            "id": "content_padding_top",
            "label": "Padding Top",
            "min": 0,
            "max": 600,
            "step": 10,
            "default": 0
        },
        {
            "type": "range",
            "id": "content_padding_bottom",
            "label": "Padding Bottom",
            "min": 0,
            "max": 200,
            "step": 5,
            "default": 0
        },
        {
            "type": "checkbox",
            "id": "video_overlay",
            "label": "Show Overlay",
            "default": true
        },        
        {
            "type": "text",
            "id": "video_sub_heading",
            "label": "Sub Heading",
            "default": "New Arrivals"
        },
        {
            "type": "text",
            "id": "video_heading",
            "label": "Heading",
            "default": "Switch up style this season!"
        },
        {
            "type": "checkbox",
            "id": "show_video_buttons",
            "label": "Show Buttons",
            "default": true
        },
        {
            "type": "text",
            "id": "video_btn_1",
            "label": "Button 1",
            "default":"SHOP NOW"
        },
        {
            "type": "url",
            "id": "button_1_link",
            "label": "Button 1 Link"
        },
        {
            "type": "text",
            "id": "video_btn_2",
            "label": "Button 2",
            "default":"EXPLORE"
        },
        {
            "type": "url",
            "id": "button_2_link",
            "label": "Button 2 Link"
        }
    ],
    "presets": [
        {
            "name": "Video with text overlay002"
        }
    ]
}
{% endschema %}
